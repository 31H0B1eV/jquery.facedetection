<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Face Detection jQuery Plugin</title>
	<script src="http://code.jquery.com/jquery-1.4.3.min.js"></script> 
	<script src="js/facedetection/ccv.js"></script> 
	<script src="js/facedetection/face.js"></script>
	<script src="js/jquery.facedetection.js"></script> 
	<script>
	$(function() {
		$('#detect').click(function() {
			
			var coords = $('#demo img').faceDetection({
				start:function(img) {
					$('.face').remove();
					$('#detect').text('Processing...');
				},
				complete:function(img, coords) {
					$('#detect').text('Completed...');
				},
				error:function(img, code, message) {
					alert('Error '+code+': '+message);	
				}
			});
			
			for (var i = 0; i < coords.length; i++) {
				$('<div>', {
					'class':'face',
					'css': {
						'position':	'absolute',
						'left':		coords[i].positionX	+'px',
						'top':		coords[i].positionY	+'px',
						'width': 	coords[i].width		+'px',
						'height': 	coords[i].height	+'px'
					}
				})
				.appendTo('#demo');
			}
			
			return false;
		});
	});
	</script>
	<style>
	body {
		font:12px Verdana;
		color:white;
		background:#444;
	}
	a:link, a:visited, a:active, a:hover {
		color:lightyellow;
		text-decoration:none;	
	}
	a:hover {
		text-decoration:underline;	
	}
	.face {
		border:2px solid white;	
		box-shadow:0px 0px 5px #000; -moz-box-shadow:0px 0px 5px #000; -webkit-box-shadow:0px 0px 5px #000;
	}
	#demo,
	#info {   
	  	text-align:center;
	  	margin:5px auto; 
	  	width:440px;
	}
	#demo img {
		border:1px solid white;	
		box-shadow:0px 2px 10px #000; -moz-box-shadow:0px 2px 10px #000; -webkit-box-shadow:0px 2px 10px #000;
	}
	#detect {
		display:block;	
		text-align:center;
		padding:10px;
		font-weight:bold;
	}
	pre {
	    background:whitesmoke;
	    color:gray;
	    text-align:left;
	    border:1px solid white;
	    padding:10px;
	    margin:10px;
	}
	</style>
</head>
<body>
	<div id="info">
	    <h1>Face detection jQuery Plugin</h1>
	    <p>
	    Plugin by <a href="http://jaysalvat.com">Jay Salvat</a>, 
	    Source on <a href="https://github.com/jaysalvat/jquery.facedetection">Github</a>
	    <br>
	    Original algorithm by <a href="https://github.com/liuliu/ccv">Liu Liu</a>.
	    </p>
<pre>
$(function() {
    var coords = $('#myPicture').faceDetection();    
});
</pre>
	
	</div>
	
	<div id="demo">
		<img src="img/faces.jpg">
		<a href="#" id="detect">Start detection</a>
	</div>

</body>
</html>
